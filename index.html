<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Squash — Official Site</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Fixed Navigation -->
  <header class="navbar" role="banner">
    <h1 class="site-title">Squash</h1>

    <!-- Mobile menu button -->
    <button class="nav-toggle" aria-controls="primary-nav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>

    <nav id="primary-nav" class="primary-nav" role="navigation">
      <a href="#music">Music</a>
      <a href="#about">About</a>
      <a href="media.html">Media</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="hero" aria-label="Hero">
    <img src="images/0E7620E5-2ED8-4A22-A47A-F951CBDEC398.JPG" alt="Band performing on stage" />
    <div class="overlay">
      <h2 data-reveal>Welcome to Squash</h2>
    </div>
  </section>

  <!-- Music Links -->
  <section id="music" class="section listen-section" aria-labelledby="music-heading">
    <h2 id="music-heading">Listen</h2>
    <div class="links">
      <a class="btn" data-reveal href="https://open.spotify.com/album/3iAGatLge2nioxcbvdWhTF" target="_blank" rel="noopener">Spotify</a>
      <a class="btn" data-reveal href="https://music.apple.com/album/1811306807" target="_blank" rel="noopener">Apple Music</a>
      <a class="btn" data-reveal href="https://www.youtube.com/channel/UCLs0-yVltyq0_zj5qhVx3Ow" target="_blank" rel="noopener">YouTube</a>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="section about-section" aria-labelledby="about-heading">
    <div class="about-content">
      <div class="about-text" data-reveal>
        <h2 id="about-heading">About Us</h2>
        <p>
          We are Squash, an indie-jam band from Boulder, CO. Our music blends the classic improvisational rock techniques with modern indie-rock songwriting. Created by two brothers in 2022, Squash aims to merge a goofy stage presence with masterfully coordinated musicality. The live shows are never done the same way twice!
        </p>
      </div>
      <div class="about-image" data-reveal>
        <img src="donkeyjesus.jpg" alt="Squash band press photo" />
      </div>
    </div>
  </section>

  <!-- Media moved to separate page: media.html -->

  <!-- Contact -->
  <section id="contact" class="section" aria-labelledby="contact-heading">
    <h2 id="contact-heading">Contact</h2>
    <p>Email us at: <a href="mailto:tribecalledsquash@gmail.com">tribecalledsquash@gmail.com</a></p>
    <div class="links">
      <a href="https://instagram.com/instasquash" target="_blank" rel="noopener">Instagram</a>
      <a href="https://www.youtube.com/channel/UCLs0-yVltyq0_zj5qhVx3Ow" target="_blank" rel="noopener">YouTube</a>
    </div>
  </section>

  <!-- Footer -->
  <footer role="contentinfo">
    <p>© 2025 Squash. All Rights Reserved.</p>
  </footer>

  <!-- Small, dependency-free scroll spy, reveal animations & menu toggle -->
  <script>
    (function () {
      // Mobile menu toggle
      const toggle = document.querySelector('.nav-toggle');
      const nav = document.getElementById('primary-nav');
      if (toggle && nav) {
        toggle.addEventListener('click', () => {
          const isOpen = nav.classList.toggle('open');
          toggle.setAttribute('aria-expanded', String(isOpen));
        });
      }

      // Scroll spy using IntersectionObserver
      const links = Array.from(document.querySelectorAll('#primary-nav a'));
      // ONLY hash links become observed sections
      const sections = links
        .map(a => a.getAttribute('href'))
        .filter(href => href && href.startsWith('#'))
        .map(href => document.querySelector(href))
        .filter(Boolean);

      const setActive = (id) => {
        links.forEach(a => {
          const href = a.getAttribute('href') || '';
          const match = href === '#' + id;
          a.classList.toggle('active', match);
          a.setAttribute('aria-current', match ? 'page' : 'false');
        });
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            setActive(entry.target.id);
          }
        });
      }, { rootMargin: '-40% 0px -55% 0px', threshold: 0.01 });

      sections.forEach(sec => observer.observe(sec));

      // ---- Reveal-on-scroll animations ----
      const revealObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('in');
            revealObserver.unobserve(entry.target);
          }
        });
      }, { threshold: 0.12, rootMargin: '0px 0px -10% 0px' });

      const revealEls = document.querySelectorAll('[data-reveal]');
      revealEls.forEach((el, i) => {
        el.classList.add('reveal');
        el.style.transitionDelay = (i % 6) * 60 + 'ms'; // gentle stagger
        revealObserver.observe(el);
      });
    })();
  </script>
</body>
</html>
